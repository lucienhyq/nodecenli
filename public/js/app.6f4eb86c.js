(function(){var t={3435:function(t,e,o){"use strict";o(109);var s,i,l=o(4093),r=(o(7322),o(6631)),n=(o(110),o(8030)),a=(o(2443),o(9864)),u=(o(836),o(6811)),c=(o(5825),o(9858)),d=(o(3089),o(4398)),p=(o(7505),o(2594)),m=(o(3412),o(7740)),f=(o(3772),o(2778)),h=(o(2679),o(9054)),v=(o(5816),o(9387)),g=(o(7622),o(9538)),Z=(o(8984),o(797)),b=(o(6720),o(334)),_=(o(1581),o(1648)),C=(o(2763),o(5094)),w=(o(159),o(9978)),x=(o(3429),o(953)),y=(o(323),o(1698)),k=(o(3446),o(4861)),S=(o(1e3),o(6338)),$=(o(7396),o(8253)),P=(o(9905),o(5348)),O=(o(9491),o(6450)),E=(o(2121),o(4202)),T=(o(7133),o(4820)),j=(o(9031),o(6790)),D=(o(4399),o(5947)),q=(o(3938),o(6606)),B=(o(6743),o(8848)),N=(o(9571),o(4958)),A=(o(9692),o(8e3)),I=(o(4735),o(6471)),M=(o(5465),o(6940)),H=(o(6871),o(1765)),U=(o(391),o(9057)),z=(o(9385),o(166)),G=(o(4825),o(7165)),V=(o(6562),o(4159)),L=(o(700),o(5389)),R=(o(2912),o(4273)),F=(o(4346),o(4329)),J=(o(8778),o(5910)),Q=(o(6735),o(4319)),K=(o(6791),o(4269)),W=(o(4439),o(3462)),X=(o(8260),o(2488)),Y=(o(9061),o(2075)),tt=(o(7944),o(5650)),et=(o(4672),o(7590)),ot=(o(7180),o(3262)),st=(o(7152),o(7304)),it=(o(4774),o(4898)),lt=(o(7840),o(6542)),rt=(o(6273),o(705)),nt=(o(5041),o(4814)),at=(o(6386),o(5951)),ut=(o(8504),o(3414)),ct=(o(139),o(9294)),dt=(o(8867),o(2133)),pt=(o(2526),o(2201)),mt=(o(1325),o(3062)),ft=(o(2680),o(8889)),ht=(o(431),o(1745)),vt=(o(5061),o(1943)),gt=(o(1049),o(140)),Zt=(o(1640),o(4734)),bt=o(7754),_t=o.n(bt),Ct=o(6369),wt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.$route.meta.isPC&&"login"!=t.$route.name?e("div",{staticStyle:{width:"100%",height:"100vh",display:"flex","flex-direction":"column"}},[e("topNav"),e("div",{class:[t.$route.meta.isPC?"pcStyle":""]},[e("leftNav"),e("keep-alive",[e("router-view",{staticStyle:{flex:"1"}})],1)],1)],1):t._e(),t.$route.meta.isPC&&"login"==t.$route.name?e("div",{staticClass:"loginPage"},[e("keep-alive",[e("router-view")],1)],1):t._e()])},xt=[],yt=function(){var t=this;t._self._c;return t._m(0)},kt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"pcNav"},[e("div",{staticClass:"pcNavTab"},[e("div",{staticClass:"homePage"},[e("img",{attrs:{src:"",alt:"获取图片失败"}})]),e("div",{staticClass:"right"},[e("div",{staticClass:"right_box"},[e("i",{staticClass:"iconfont icon-denglu"}),t._v(" 退出登录 ")])])])])}],St={props:{msg:String}},$t=St,Pt=o(1001),Ot=(0,Pt.Z)($t,yt,kt,!1,null,"f1de4250",null),Et=Ot.exports,Tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pccNav"},[e("div",{staticClass:"pccNavTab"},[e("el-col",[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.inds,"background-color":"#545c64"}},[t._l(t.routearr,(function(o,s){return[o.meta.nav?e("el-menu-item",{key:s,attrs:{index:String(s)},on:{click:function(e){return t.tapMenu(e,o.name)}}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(o.meta.title))])]):t._e()]}))],2)],1)],1)])},jt=[],Dt=(o(7658),{data(){return{routearr:[],inds:""}},mounted(){this.routearr=this.$router.options.routes,console.log(this.routearr,"ddddddd");let t=this.routearr.filter((t=>"/"!=t.path&&"/login"!=t.path)),e="";this.routearr=t,this.routearr.forEach(((t,o)=>{t.name==this.$route.name&&0!=t.nav&&(e=o)})),this.inds=String(e)},watch:{$route(t,e){let o;console.log(t.name),this.routearr.forEach(((e,s)=>{console.log(e),e.name==t.name&&(o=s)})),this.inds=String(o)}},methods:{tapMenu(t,e){this.$router.push(e)},handleOpen(t,e){console.log(t,e)},handleClose(t,e){console.log(t,e)}}}),qt=Dt,Bt=(0,Pt.Z)(qt,Tt,jt,!1,null,"8c7c423c",null),Nt=Bt.exports,At={data(){return{routeNow:""}},components:{topNav:Et,leftNav:Nt},mounted(){},watch:{$route(t,e){t.meta.title&&(document.title=t.meta.title),this.routeNow=t.name}},methods:{}},It=At,Mt=(0,Pt.Z)(It,wt,xt,!1,null,null,null),Ht=Mt.exports,Ut=o(2631),zt={},Gt=(0,Pt.Z)(zt,s,i,!1,null,null,null),Vt=(Gt.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"pcHome"},[e("div",{staticClass:"viewBox"},[e("el-col",{attrs:{xs:4,sm:6,md:8,lg:9,xl:11}},[e("visitor",{attrs:{visitorData:t.visitorData}})],1),e("el-col",{attrs:{xs:4,sm:6,md:8,lg:9,xl:11}})],1)])}),Lt=[],Rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"visitor"},[e("div",{staticClass:"title"},[t._v("最近访客")]),e("div",{staticClass:"list"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.visitorData}},[e("el-table-column",{attrs:{prop:"userId",label:"会员id",width:"120"}}),e("el-table-column",{attrs:{label:"姓名",width:"140"},scopedSlots:t._u([{key:"default",fn:function(o){return e("div",{staticClass:"userBox"},[e("img",{attrs:{src:o.row.memberUser.avatar,alt:""}}),e("span",[t._v(t._s(o.row.memberUser.user_name))])])}}])}),e("el-table-column",{attrs:{prop:"timestamp",label:"访问时间"}}),e("el-table-column",{attrs:{prop:"userAgent",label:"访问客户端"}})],1)],1)])},Ft=[],Jt={props:{visitorData:{type:Array,default:[]}},data(){return{}}},Qt=Jt,Kt=(0,Pt.Z)(Qt,Rt,Ft,!1,null,"0d3f262e",null),Wt=Kt.exports,Xt={data(){return{visitorData:[]}},components:{visitor:Wt},activated(){this.getData(),this.getVisitor()},methods:{tapurl(){console.log("dasdasd"),this.$router.replace("Login")},getData(){$http.post("api/checkLoginUser",{},"获取中").then((t=>{console.log(t)})).catch((t=>{console.log(t)}))},getVisitor(){$http.get("api/apitest/get_userAccess",{},"获取中").then((t=>{this.visitorData=t.data})).catch((t=>{console.log(t)}))}}},Yt=Xt,te=(0,Pt.Z)(Yt,Vt,Lt,!1,null,"126301a3",null),ee=te.exports,oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginPage"},[e("div",{staticClass:"login-container"},[t._m(0),e("div",{staticClass:"contenbox"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:16}},[e("div",{staticClass:"grid-content"},[e("img",{attrs:{src:"",alt:""}})])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"bg-purple"},[e("div",{staticClass:"txt"},[t._v("登录后台")]),e("el-input",{staticStyle:{"margin-bottom":"15px"},attrs:{placeholder:"账号"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},[e("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})]),e("el-input",{attrs:{placeholder:"密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[e("i",{staticClass:"el-input__icon el-icon-more",attrs:{slot:"prefix"},slot:"prefix"})]),e("div",{staticClass:"btn",on:{click:t.loginMethod}},[t._v("登录")])],1)])],1)],1)])])},se=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container-con"},[e("div",{staticClass:"login-container-con_left"},[e("img",{attrs:{src:"",alt:""}}),e("div",{staticClass:"span"},[t._v("乐善里后台")])])])}],ie={data(){return{user:"",password:""}},activated(){},methods:{loginMethod(){$http.post("api/login",{user_name:this.user,password:this.password},"获取中").then((t=>{1==t.result&&(window.localStorage.setItem("refereesToken",t.data.token),this.$router.push("pcHome"))})).catch((t=>{console.log(t)}))}}},le=ie,re=(0,Pt.Z)(le,oe,se,!1,null,"2cc8e269",null),ne=re.exports,ae=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goodsBox"},[e("div",{staticClass:"btnAdd",on:{click:t.toAddGood}},[t._v("添加商品")]),e("div",{staticClass:"searchBox"},[e("div",{staticClass:"dline"},[e("el-input",{attrs:{placeholder:"请输入商品名称/商品ID"},model:{value:t.goodname,callback:function(e){t.goodname=e},expression:"goodname"}})],1),e("div",{staticClass:"btn"},[t._v("搜索")])])])},ue=[],ce={data(){return{goodname:""}},methods:{toAddGood(){this.$router.replace({name:"goodsEdit"})}}},de=ce,pe=(0,Pt.Z)(de,ae,ue,!1,null,"66308f77",null),me=pe.exports,fe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goodsEdit"},[e("div",{staticClass:"bgbox"},[e("div",{staticClass:"title"},[t._v("添加商品")]),e("div",{staticClass:"formBox"},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px","label-position":"left"}},[e("el-form-item",{attrs:{label:"商品标题"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入商品标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("el-form-item",{attrs:{label:"商品价格"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入商品价格"},model:{value:t.form.course_price,callback:function(e){t.$set(t.form,"course_price",e)},expression:"form.course_price"}})],1),e("el-form-item",{attrs:{label:"商品是否上架"}},[e("el-switch",{model:{value:t.form.shelfStatus,callback:function(e){t.$set(t.form,"shelfStatus",e)},expression:"form.shelfStatus"}}),e("span",{staticClass:"shelfStatusTxt"},[t._v(t._s(t.form.shelfStatus?"上架":"下架"))])],1),e("el-form-item",{attrs:{label:"商品图片"}},[e("el-upload",{attrs:{action:"http://localhost:3000/posts","list-type":"picture-card","on-success":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[e("i",{staticClass:"el-icon-plus"})])],1),e("el-form-item",{attrs:{label:"商品库存"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入商品库存"},model:{value:t.form.inventory,callback:function(e){t.$set(t.form,"inventory",e)},expression:"form.inventory"}})],1),e("el-form-item",{attrs:{label:"商品详情"}},[e("quillEditor",{attrs:{contenInfo:t.form.conten},on:{quillBlur:t.quillBlur}})],1)],1)],1),e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("发布商品")])],1)])},he=[],ve=function(){var t=this,e=t._self._c;return e("div",{staticClass:"quillEditor"},[e("quill-editor",{ref:"myTextEditor",attrs:{options:t.editorOption},on:{change:t.onEditorChange},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},ge=[],Ze=o(4237),be=o(932);Ze.Quill.register("modules/imageDrop",be.c);var _e={components:{quillEditor:Ze.quillEditor},data(){return{content:"",editorOption:null}},methods:{onEditorChange({editor:t,html:e,text:o}){this.$emit("quillBlur",e)}},created(){const t=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["image","video"]];this.editorOption={theme:"snow",placeholder:"请输入正文",modules:{imageDrop:!0,toolbar:{container:t}}}}},Ce=_e,we=(0,Pt.Z)(Ce,ve,ge,!1,null,"ffe7c778",null),xe=we.exports,ye={data(){return{form:{title:"",course_price:"",conten:"",shelfStatus:!1,goodimg:"",inventory:"",goodStatus:"2",creatUser:1},dialogVisible:!1}},components:{quillEditor:xe},activated(){},methods:{quillBlur(t){console.log(t),this.form.conten=t,console.log(this.form)},handlePictureCardPreview(t){this.form.goodimg=t.data,console.log(this.form.goodimg,"goodimg")},onSubmit(){console.log(this.form,"dddddd"),$http.post("api/courseIndex",this.form,"获取中").then((t=>{this.visitorData=t.data,this.$message.success("成功"),this.$router.replace({name:"goods"})})).catch((t=>{console.log(t)}))},handleRemove(t){console.log(t)}}},ke=ye,Se=(0,Pt.Z)(ke,fe,he,!1,null,"1c271def",null),$e=Se.exports;Ct["default"].use(Ut.Z);const Pe=[{path:"/",name:"",component:ee,meta:{title:"首页",isPC:!0}},{path:"/pcHome",name:"pcHome",component:ee,meta:{title:"首页",isPC:!0,nav:!0}},{path:"/goods",name:"goods",component:me,meta:{title:"商品",isPC:!0,nav:!0}},{path:"/goodsEdit",name:"goodsEdit",component:$e,meta:{title:"商品",isPC:!0,nav:!1}},{path:"/login",name:"login",component:ne,meta:{title:"登录",isPC:!0}}],Oe=new Ut.Z({routes:Pe});var Ee=Oe,Te=o(3822);Ct["default"].use(Te.ZP);var je=new Te.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),De=o(6216),qe=o.n(De);window.$http=qe(),Ct["default"].config.productionTip=!1,Ct["default"].use(_t()),Ct["default"].use(l.Z).use(r.Z).use(n.Z).use(a.Z).use(u.Z).use(c.Z).use(d.Z).use(p.Z).use(m.Z).use(f.Z).use(h.Z).use(v.Z).use(g.Z).use(Z.Z).use(b.Z).use(_.Z).use(C.Z).use(w.Z).use(x.Z).use(y.Z).use(k.Z).use(S.Z).use($.Z).use(P.Z).use(O.Z).use(E.Z).use(T.Z).use(j.Z).use(D.Z).use(q.Z).use(B.Z).use(N.Z).use(A.Z).use(I.Z).use(M.Z).use(H.Z).use(U.Z).use(z.Z).use(G.Z).use(V.Z).use(L.Z).use(R.Z).use(F.Z).use(J.Z).use(Q.Z).use(K.Z).use(W.Z).use(X.Z).use(Y.Z).use(tt.Z).use(et.Z).use(ot.Z).use(st.Z).use(it.Z).use(lt.Z).use(rt.Z).use(nt.Z).use(at.Z).use(ut.Z).use(ct.Z).use(dt.Z).use(pt.Z).use(mt.Z).use(ft.Z).use(ht.Z).use(vt.Z).use(gt.Z).use(Zt.Z),new Ct["default"]({router:Ee,store:je,render:t=>t(Ht)}).$mount("#app")},6216:function(t,e,o){o(7658),t.exports={get(t,e,o){let s=localStorage.getItem("refereesToken");if(!t)return void console.log("输入url为空");if(t+="?min=pc",console.log(t),e){let o=[];Object.keys(e).forEach((t=>o.push(t+"="+e[t]))),t+="&"+o.join("&")}let i={"Content-Type":"application/json",Authorization:"Bearer "+s};return new Promise((function(e,o){fetch(t,{method:"GET",headers:i,credentials:"include"}).then((t=>{if(t.ok)return t.json();o({status:t.status})})).then((t=>("请登录"==t.msg&&0==t.result&&(console.log("dddddddddddddlogin",`${window.location.href}login`),window.location.href=`${window.location.href}login`),t))).then((t=>{console.log(t),e(t)})).catch((t=>{console.log(t,"网络请求，无响应！")}))}))},post(t,e,o,s,i){if(!t)return void console.log("输入url为空");let l=localStorage.getItem("refereesToken");t+="?min=pc";let r={"Content-Type":"application/json",Authorization:"Bearer "+l};return new Promise(((o,s)=>{fetch(t,{method:"POST",headers:r,body:JSON.stringify(e),credentials:"include"}).then((t=>{if(t.ok)return t.json();s({status:t.status})})).then((t=>("请登录"!=t.msg&&"未登录"!=t.msg||0!=t.result||(window.location.href=`${window.location.protocol}/#/login`),t))).then((t=>{o(t)}))}))}}}},e={};function o(s){var i=e[s];if(void 0!==i)return i.exports;var l=e[s]={exports:{}};return t[s].call(l.exports,l,l.exports,o),l.exports}o.m=t,function(){var t=[];o.O=function(e,s,i,l){if(!s){var r=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],l=t[c][2];for(var n=!0,a=0;a<s.length;a++)(!1&l||r>=l)&&Object.keys(o.O).every((function(t){return o.O[t](s[a])}))?s.splice(a--,1):(n=!1,l<r&&(r=l));if(n){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}l=l||0;for(var c=t.length;c>0&&t[c-1][2]>l;c--)t[c]=t[c-1];t[c]=[s,i,l]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,l,r=s[0],n=s[1],a=s[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(a)var c=a(o)}for(e&&e(s);u<r.length;u++)l=r[u],o.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return o.O(c)},s=self["webpackChunkp"]=self["webpackChunkp"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(3435)}));s=o.O(s)})();
//# sourceMappingURL=app.6f4eb86c.js.map