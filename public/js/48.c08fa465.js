"use strict";(self["webpackChunkp"]=self["webpackChunkp"]||[]).push([[48],{48:function(e,t,l){l.r(t),l.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"memberList"},[t("div",{staticClass:"headT"},[t("el-page-header",{attrs:{content:"会员列表"},on:{back:e.goBack}})],1),t("div",{staticClass:"searchOption"},[t("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{placeholder:"会员ID"},model:{value:e.memebrId,callback:function(t){e.memebrId=t},expression:"memebrId"}}),t("el-input",{staticStyle:{width:"400px","margin-right":"20px"},attrs:{placeholder:"请输入会员姓名"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("el-select",{attrs:{placeholder:"会员类型"},model:{value:e.select_value,callback:function(t){e.select_value=t},expression:"select_value"}},e._l(e.options_arr,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"info"},on:{click:e.searchM}},[e._v("搜索")]),t("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.dialogVisibleShow}},[e._v("添加会员")])],1),t("div",{staticClass:"list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"user_name",label:"姓名",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[t("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:l.row.avatar,alt:""}}),t("span",[e._v(e._s(l.row.user_name))])])]}}])}),t("el-table-column",{attrs:{prop:"admin",label:"会员角色",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(1==l.row.admin?"管理员":"用户")+" ")])]}}])}),t("el-table-column",{attrs:{prop:"mobile",label:"联系电话"}}),t("el-table-column",{attrs:{prop:"createdAt",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(e.convertTimestamp(l.row.createdAt)))])]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClickMember(l.row.id)}}},[e._v("查看")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick_edit(l.row.id)}}},[e._v("编辑")])]}}])})],1)],1),t("el-dialog",{attrs:{title:e.addShow?"添加会员":"查看信息",visible:e.dialogVisible,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"会员名称"}},[t("el-input",{attrs:{readonly:!e.addShow},model:{value:e.form.user_name,callback:function(t){e.$set(e.form,"user_name",t)},expression:"form.user_name"}})],1),t("el-form-item",{attrs:{label:"会员手机号"}},[t("el-input",{attrs:{readonly:!e.addShow},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e.addShow?[t("el-form-item",{attrs:{label:"会员密码"}},[t("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t("el-button",{attrs:{type:"info"},on:{click:e.saveAddMember}},[e._v("添加会员")])],1)]:e._e(),e.addShow?e._e():[t("el-form-item",{attrs:{label:"创建时间"}},[t("el-input",{attrs:{value:e.convertTimestamp(e.form.createdAt)}})],1)]],2)],1)],1)},i=[],o={data(){return{memebrId:"",keyword:"",tableData:[],select_value:"",dialogVisible:!1,form:{name:"",mobile:"",password:""},isEdit:!1,addShow:!1,options_arr:[{value:"1",label:"管理员"},{value:"2",label:"H5"},{value:"3",label:"小程序"}]}},computed:{convertTimestamp(e){return function(e){var t=new Date(e),l=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2),o=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),r=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return`${l}-${a}-${i} ${o}:${s}:${r}`}}},activated(){console.log("wwwwwwwwwww"),this.getData()},methods:{dialogVisibleShow(){this.dialogVisible=!0,this.form.user_name="",this.form.mobile="",this.form.password="",this.addShow=!0},handleClick_edit(e){$http.get("memberList",{member_id:e},"获取中").then((e=>{if(e.result){let t=e.data[0];this.dialogVisible=!0,this.form=t,this.isEdit=!0}})).catch((e=>{console.log(e)}))},handleClickMember(e){$http.get("memberList",{member_id:e},"获取中").then((e=>{if(e.result){let t=e.data[0];this.dialogVisible=!0,this.form=t}})).catch((e=>{console.log(e)}))},handleClose(){this.dialogVisible=!1,this.addShow=!1,this.isEdit=!1},goBack(){this.$router.go(-1),console.log()},searchM(){},saveAddMember(){let e={name:this.form.user_name,phone:this.form.mobile,password:this.form.password};console.log(e)},getData(){$http.get("memberList",{},"获取中").then((e=>{e.result&&(this.tableData=e.data,console.log(e.data))})).catch((e=>{console.log(e)}))}}},s=o,r=l(1656),n=(0,r.A)(s,a,i,!1,null,"b9616234",null),d=n.exports}}]);
//# sourceMappingURL=48.c08fa465.js.map