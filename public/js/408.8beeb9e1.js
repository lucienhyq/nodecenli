"use strict";(self["webpackChunkp"]=self["webpackChunkp"]||[]).push([[408],{9408:function(t,e,l){l.r(e),l.d(e,{default:function(){return d}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goodsBox"},[e("div",{staticClass:"btnAdd",on:{click:t.toAddGood}},[t._v("添加商品")]),e("div",{staticClass:"searchBox"},[e("div",{staticClass:"dline"},[e("el-input",{attrs:{placeholder:"请输入商品名称/商品ID"},model:{value:t.goodname,callback:function(e){t.goodname=e},expression:"goodname"}})],1),e("div",{staticClass:"btn"},[t._v("搜索")])]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"cell-style":{"text-align":"center"},"header-cell-style":{"text-align":"center"}}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),e("el-table-column",{attrs:{prop:"title",label:"标题",width:"300"}}),e("el-table-column",{attrs:{prop:"goodimg",label:"封面",width:"300"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticClass:"imageS",attrs:{src:t.row.goodimg,alt:""}})]}}])}),e("el-table-column",{attrs:{prop:"course_price",label:"价格",width:"300"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",[t._v(t._s(l.row.course_price)+"元")])]}}])}),e("el-table-column",{attrs:{prop:"goodStatus",label:"商品类型",width:"300"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("span",[t._v(t._s(1==l.row.goodStatus?"普通商品":"预约商品"))])]}}])}),e("el-table-column",{attrs:{prop:"shelfStatus",label:"是否上架",width:"300"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-switch",{on:{change:function(e){return t.updateOne(l.row)}},model:{value:l.row.shelfStatus,callback:function(e){t.$set(l.row,"shelfStatus",e)},expression:"scope.row.shelfStatus"}})]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("div",[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleClick(l.row)}}},[t._v("编辑")])],1),e("div",[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.delGood(l.row)}}},[t._v("删除商品")])],1),e("div",[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleClick(l.row,"read")}}},[t._v("查看商品")])],1)]}}])})],1)],1)},s=[],a=(l(4114),{data(){return{goodname:"",tableData:[],total:0}},activated(){this.getData()},methods:{delGood(t){$http.get("courseDelete",{goods_id:t.id},"获取中").then((t=>{this.$message.success(t.msg),this.getData()})).catch((t=>{console.log(t)}))},handleClick(t,e=""){console.log(t,e),e?this.$router.push({path:`/goodsEdit/${t.id}`,query:{tag:"look"}}):this.$router.push({path:`/goodsEdit/${t.id}`})},updateOne(t){console.log(t);let e={id:t.id,form:{shelfStatus:t.shelfStatus?1:2}};$http.post("courseList_updateOne",e,"获取中").then((t=>{this.$message.success(t.msg)})).catch((t=>{console.log(t)}))},toAddGood(){this.$router.replace({name:"goodsEdit"})},getData(){$http.post("courseList",{},"获取中").then((t=>{console.log(t.data),this.tableData=t.data.list,this.total=t.data.total})).catch((t=>{console.log(t)}))}}}),n=a,i=l(845),c=(0,i.A)(n,o,s,!1,null,"ef33d2b4",null),d=c.exports}}]);
//# sourceMappingURL=408.8beeb9e1.js.map